= Model Context Protocol Sever for filesystem
:mcpalias: filesystem@quarkiverse/quarkus-mcp-servers

This Model Context Protocol(MCP) server enables Large Language Models (LLMs) to list, read and modify files from the filesystem.

image::images/filesystem-demo.png[]

== General Usage 

1. Install https://www.jbang.dev/download/[jbang]
2. Configure your MCP Client to run the server (see <<claude_desktop_config>> below)

Use the following command to start the server with access to specific paths.
[source,shell,subs="attributes"]
----
jbang {mpcalias} ~/code/quarkiverse ~/code/jbang 
----

== Claude Desktop Config and https://github.com/chrishayuk/mcp-cli[mcp-cli] [[claude_desktop_config]]


Add this to your `claude_desktop.json` or `server_config.json` file:

[source,json]
----
{
  "mcpServers": {
    "filesystem": {
      "command": "jbang",
      "args": [
        "{mpcalias}",
        "[path1]",
        "[path2]"
      ]
    }
  }
}
----

== Native Image/Executable

Using native image, the startup time is almost instant. 

You can download the native images from the https://github.com/quarkiverse/quarkus-mcp-servers/releases[release page].

Then use the executable for your platform in your MCP client.

Example for MacOS arm64 (M1, M2, etc.):

[source,json]
----
{
  "mcpServers": {
    "filesystem": {
      "command": "jbang",
      "args": [
        "mcp-server-filesystem-osx-aarch_64",
        "[path1]",
        "[path2]"
      ]
    }
  }
}
----

You can of course also rename the executable to something else, like `mcp-server-filesystem` if you want.

=== Troubleshooting

jbang not found::
* Make sure you have `jbang` installed and available in your PATH
* Alternatively, use full path to jbang executable (e.g. `/Users/username/.jbang/jbang`)

Get more logging::

To get more detailed logging you can add the following parameters to the jbang command line:

[source,shell]
----
-Dquarkus.log.file.enable=true -Dquarkus.log.file.path=${user.home}/mcp-server-filesystem.log
----

Example:

[source,shell,subs="attributes"] 
----
jbang -Dquarkus.log.file.enable=true -Dquarkus.log.file.path=${user.home}/mcp-server-filesystem.log {mpcalias} [path1] [path2] ...
----

=== How was this made ?

The MCP server uses Quarkus, the Supersonic Subatomic Java Framework and its Model Context Protocol support.

If you want to learn more about Quarkus MCP Server support, please see this https://quarkus.io/blog/mcp-server/[blog post] 
and the Quarkus MCP Server https://docs.quarkiverse.io/quarkus-mcp-server/dev/[extension documentation].

To launch the server it uses https://jbang.dev/[jbang] to
setup Java and run the .jar as transparent as possible. Very similar to how `uvx`, `pipx`, `npmx` and others works; just for Java.

